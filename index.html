<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>INDOCART</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
  :root {
    --bg: #f7f9fc;
    --card: #ffffff;
    --accent: #0b74da;
    --accent-dark: #094fa1;
    --muted: #6b7280;
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    --radius: 10px;
    --font: "Poppins", system-ui, sans-serif;
    --font-size-base: 13px;
  }

  body { margin: 0; font-family: var(--font); background: var(--bg); color: #111; }
  header { background: linear-gradient(90deg,var(--accent),var(--accent-dark)); color: #fff; padding: 12px; }
  .container { padding: 12px; }
  .card { background: #fff; border-radius: 10px; padding: 12px; box-shadow: var(--shadow); }

  /* Fix tabel daftar produk agar rapi di Android */
  #tbl { width: 100%; border-collapse: collapse; table-layout: fixed; }
  #tbl th, #tbl td { padding: 8px; text-align: left; border-bottom: 1px solid #f1f3f5; vertical-align: middle; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
  #tbl th:nth-child(1), #tbl td:nth-child(1) { width: 20%; }
  #tbl th:nth-child(2), #tbl td:nth-child(2) { width: 40%; }
  #tbl th:nth-child(3), #tbl td:nth-child(3) { width: 10%; text-align: center; }
  #tbl th:nth-child(4), #tbl td:nth-child(4) { width: 15%; text-align: right; }
  #tbl th:nth-child(5), #tbl td:nth-child(5) { width: 15%; text-align: center; }

  #tbl td.actions { display: flex; justify-content: center; gap: 6px; flex-wrap: wrap; }
  .table-wrapper { overflow-x: auto; -webkit-overflow-scrolling: touch; border-radius: 8px; }

  @media (max-width: 600px) {
    #tbl, #tbl thead, #tbl tbody, #tbl tr, #tbl th, #tbl td { display: block; width: 100%; }
    #tbl thead { display: none; }
    #tbl tr { background: #fff; margin-bottom: 8px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); padding: 8px; }
    #tbl td { display: flex; justify-content: space-between; align-items: center; border: none; padding: 6px 4px; white-space: normal; }
    #tbl td::before { content: attr(data-label); font-weight: 600; color: #555; }
    #tbl td.actions { justify-content: flex-end; }
  }
  </style>
</head>
<body>
  <header><h2>INDOCART</h2></header>
  <main class="container">
    <div class="card">
      <h3>Daftar Produk</h3>
      <input id="search" placeholder="Cari produk..." oninput="render()" style="width:100%;padding:8px;margin-bottom:10px;border:1px solid #ddd;border-radius:8px"/>
      <div class="table-wrapper">
        <table id="tbl">
          <thead><tr><th>SKU</th><th>Nama</th><th>Stok</th><th>Harga</th><th>Aksi</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </main>
<script>
let products = JSON.parse(localStorage.getItem('products')||'[]');
function render(){
  const tbl=document.querySelector("#tbl tbody");
  const search=document.querySelector("#search").value.toLowerCase();
  tbl.innerHTML="";
  products.forEach(p=>{
    if(p.name.toLowerCase().includes(search)||p.sku.includes(search)){
      const tr=document.createElement("tr");
      tr.innerHTML=`
        <td data-label="SKU">${p.sku}</td>
        <td data-label="Nama">${p.name}</td>
        <td data-label="Stok">${p.qty}</td>
        <td data-label="Harga">Rp ${p.price.toLocaleString()}</td>
        <td data-label="Aksi" class="actions">
          <button class="small" onclick="editProduct('${p.sku}')">Edit</button>
          <button class="small ghost" onclick="deleteProduct('${p.sku}')">Hapus</button>
        </td>`;
      tbl.appendChild(tr);
    }
  });
}
function editProduct(sku){ alert('Edit produk: '+sku); }
function deleteProduct(sku){ alert('Hapus produk: '+sku); }
render();
</script>
</body>
</html>
